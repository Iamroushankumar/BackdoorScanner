package com.example.lue.backdoorscanner;

import android.content.pm.ApplicationInfo;
import android.graphics.Color;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class MalwareScan extends AppCompatActivity {
Button scan;
TextView status,status2;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_malware_scan);
        scan=(Button)findViewById(R.id.btmalwarescan);
        status=(TextView)findViewById(R.id.tvmalvarestatus);
        status2=(TextView)findViewById(R.id.tvmalvarestatus2);
        scan.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                for (ApplicationInfo packageInfo : MalwareScan.this.getPackageManager().getInstalledApplications(128)) {
                    String appPackageName = packageInfo.packageName.toString();
                    if (appPackageName.equals("com.adups.fota.sysoper") || appPackageName.equals("com.adups.fota") || appPackageName.equals("com.google.ePlay4Service")|| appPackageName.equals("com.mediatek.CrashService")|| appPackageName.equals("com.get.googleApps")|| appPackageName.equals("com.mediatek.appguide.plugin")) {
                       status.setText(R.string.your_phone_unsafe);
                       status.setTextSize(20.0f);
                       status2.setText("Malcious App : "+appPackageName);
                       status.setTextColor(Color.parseColor("#FF0000"));
                    }
                }
                if (status.getText().equals("")) {
                    status.setText(R.string.your_phone_safe);
                    status.setTextSize(20.0f);
                    status.setTextColor(Color.parseColor("#31B404"));
                }

            }
        });
    }
}
